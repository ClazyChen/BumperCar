library ieee;

use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;

entity sram_ctrl is
	port(
		clk25m : in std_logic;
		--0 read, 1 write
		io : in std_logic;
		
		base_ram_we, base_ram_oe, base_ram_ce : out std_logic;
		base_ram_addr : out std_logic_vector(19 downto 0);
		base_ram_data : inout std_logic_vector(31 downto 0);

		read_data : out std_logic_vector(31 downto 0);
		write_data : in std_logic_vector(31 downto 0)
	);
end sram_ctrl;

architecture implementation of sram_ctrl is
begin
	process (clk25m)
	begin
		if (clk25m'event and clk25m = '1') then
			if (io = '0') then
				base_ram_ce = '0';
				base_ram_oe = '0';
				base_ram_we = '1';
				read_data <= base_ram_data;
			else
				base_ram_ce = '0';
				base_ram_oe = '1';
				base_ram_we = '0';
				base_ram_data <= write_data;
			end if;
		end if;
end implementation;
